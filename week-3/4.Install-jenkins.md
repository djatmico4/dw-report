# **INSTALL JENKINS**
## Buat server jenkins

1. Pertama buatlah server untuk jenkins dengan multipass.
2. Login ke sever jenkins via SSH.
3. Update dan upgrade sistem

## Install Jenkins 

1. Kemudian install jenkins dari docker dengan menjalankan perintah

       docker run --name ci-cd -p 8080:8080 -p 50000:50000 -d -v jenkins_home:/var/jenkins_home jenkins/jenkins
   ![installjenkins](assets/images-install-jenkins/installjenkins.png)

   `NB:` port 8080 untuk akses gui jenkins dan 50000 untuk jenkins master/slave - perintah -v untuk membuat volume jenkins yang ada pada directory jenkins_home - jenkins/jenkins merupakan images dari dockerhub - --name untuk memberikan nama container.

2. Buka browser dan arahkan ke `ip-address-server:8080`. <br>
   ![openbrowserip](assets/images-install-jenkins/openbrowserip.png) <br>

3. Masukkan initial admin password, bisa dilihat di 
   
        sudo cat /var/lib/jenkins/secrets/initialAdminPassword
    ![password](assets/images-install-jenkins/password.png) <br>

    - Masukan password ke dalam browser tadi. <br><br>
  
4. Pilih jenis instalasi plugin jenkins(pilih yang suggested plugins) dan tunggu proses instalasi plugin selesai.
5. Buat admin jenkins, simpan dan lanjut.
   ![addadmin](assets/images-install-jenkins/addadmin.png) <br>

6. Konfigurasi jenkins URL. Save and finish.
   ![jenkinsurl](assets/images-install-jenkins/jenkinsurl.png) <br>

7. Tampilan dashboard jenkins.
   ![dashboardjenkins](assets/images-install-jenkins/dashboardjenkins.png) <br><br>


## Reverse Domain for Jenkins

1. Pertama login ke akun cloudflare.
   - Pilih akun `sugandaletter@outlook.com` dan domain `onlinecamp.id`.
   - Masuk ke menu DNS.
   - Add record untuk `jenkins jenkins.dody.onlinecamp.id`
   - save. <br>
  ![reversejenkins](assets/images-install-jenkins/reversejenkins.png) <br>

2. Kemudian kita setup reverse proxy untuk jenkins.
   - Login ke server gateway.
   - Masuk ke folder nginx `/etc/nginx/`
   - Buat konfigurasi file `jenkins.dody.onlinecamp.id` <br>
  ![configreversejenkins](assets/images-install-jenkins/configreversejenkins.png) <br>
  ![configreversejenkins2](assets/images-install-jenkins/configreversejenkins2.png) <br>

  - Lakukan validasi dan reload nginx.

3. Buka browser dan arahkan ke `jenkins.dody.onlinecamp.id` <br>
   ![result](assets/images-install-jenkins/result.png) <br>